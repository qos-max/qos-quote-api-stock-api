**[简体中文](https://github.com/qos-max/quote-ocean-system/blob/main/api.md) | [English](https://github.com/qos-max/quote-ocean-system/blob/main/api_en.md)**
# QOS报价海洋系统(Quote Ocean System)接口文档
报价海洋系统目前提供：全港，全美，沪深等股票的实时报价，实时K线，历史K线数据等，欢迎免费试用及联系作者。
- **版本**：V1.0.0
- **作者**：Max
- **更新时间**：2024-12-16
- **http基础URL**：`https://api.qos.hk`
- **websocketURL**：`wss://api.qos.hk/ws`
- **认证方式**：请求头添加key字段
- **错误码说明**：msg字段返回"OK"视为成功，非"OK"则是具体的错误描述
- **格式**：所有请求和响应均为 JSON 格式。
- **请求方式**：所有http请求统一为POST方法。
## 联系作者：
- **telegram**: [https://t.me/qos_max](https://t.me/qos_max)
- **skype**:[https://join.skype.com/invite/wWXtMxKNFOYE](https://join.skype.com/invite/wWXtMxKNFOYE)
## 1、快速开始-接入指南
### 1.1、注册key
[1.1.1、http协议接入说明](#40http协议接入说明)</br>
[1.1.2、注册key](#41注册一个新的Key)</br>

使用邮箱注册后会得到key相关信息一定要注意保存好，下面的步骤中将要使用。
### 1.2、请求Http接口
把key加入到请求头中使用key字段填充，然后根据http的各个接口定义的参数就可以获取数据了。</br>
[1.2.1、http协议接入说明](#40http协议接入说明)</br>
[1.2.2、获取交易品种的基础信息](#42获取交易品种的基础信息)</br>
[1.2.3、获取交易品种的实时行情快照](#43获取交易品种的实时行情快照)</br>
[1.2.4、获取交易品种的实时最新盘口深度](#44获取交易品种的实时最新盘口深度)</br>
[1.2.5、获取交易品种的实时最新逐笔成交明细](#45获取交易品种的实时最新逐笔成交明细)</br>
[1.2.6、获取交易品种的K线](#46获取交易品种的K线)</br>
[1.2.7、获取交易品种的K线-历史](#47获取交易品种的K线-历史)</br>
### 1.3、订阅webscoket实时数据接口
把key加入到请求头中使用key字段填充，然后建立websocket连接，发送相应的订阅命令，并保持心跳就可以得到实时报价了</br>
[1.3.1、websocket协议接入说明](#50websocket协议接入说明)</br>
[1.3.2、心跳](#51心跳)</br>
[1.3.3、订阅交易品种的实时快照](#52订阅交易品种的实时快照)</br>
[1.3.4、订阅交易品种的实时逐口成交明细](#53订阅交易品种的实时逐口成交明细)</br>
[1.3.5、订阅交易品种的实时盘口](#54订阅交易品种的实时盘口)
## 2、一些枚举定义
### 2.1、K线类型
| 枚举常量 | 值   |
|----------|------|
| min1     | 1    |
| min5     | 5    |
| min15    | 15   |
| min30    | 30   |
| hour1    | 60   |
| hour2    | 120  |
| hour4    | 240  |
| day      | 1001 |
| week     | 1007 |
| month    | 1030 |
| year     | 2001 |
---
### 2.2、交易方向
| 枚举常量 | 值   |
|----------|------|
| unknown     | 0    |
| buy     | 1    |
| sell     | 2    |
---
## 3、各类交易品种的编码和交易时间
| 市场代码 | 说明  | 交易时间         |
|------|-------|------------------------------------------------------|
| US  | 美股 | 美股正常交易时间(东部时间，ET):</br>开盘时间：上午 9:30</br>收盘时间：下午 4:00</br>盘前交易：</br>开始时间：上午 4:00 </br>结束时间：上午 9:30 </br>盘后交易： </br>开始时间：下午 4:00 </br>结束时间：下午 8:00 </br>以上时间为美国当地时间,如果换算为其它时间时需要注意令时转换</br> 夏令时（通常从3月的第二个星期日到11月的第一个星期日） </br>冬令时（通常从11月的第一个星期日到3月的第二个星期日） </br>转换为UTC+8冬令开市是21点30分，夏令开市是22点30分。 |
| HK  | 港股 | UTC+8 上午交易时段：9:30 - 12:00 下午交易时段：13:00 - 16:00 |
| SZ  | A股深圳 | UTC+8 上午交易时段：9:30 - 11:30 下午交易时段：13:00 - 15:00 |
| SH  | A股上海 | UTC+8 上午交易时段：9:30 - 11:30 下午交易时段：13:00 - 15:00 |
## 4、http协议接口定义
### 4.0、http协议接入说明
请求时只需要把请key放在请求头中，填充key字段就可以了。
- **请求Url**: 基础url+各个接口的地址
- **请求方式统一为**: POST,不接受非POST请求
#### 4.0.1、请求头
| 参数 | 类型  | 描述         |
|------|-------|--------------|
| key  | string | 请求的API key |
#### 4.0.2、限制说明
会根据套餐情况限制订阅的产品个数和请求频率，默认是10个产品，每分钟30次请求，可以联系客服根据不同套餐进行调整。
---
### 4.1、注册一个新的Key
- **接口地址**：`/register`
- **请求方式**：`POST`
- **接口描述**：快速免费申请Key,注意：请求此接口后得到的信息请妥善保管，不要外泄。如果忘记请联系客服进行认证找回。

#### 4.1.1、请求参数

| 参数名     | 类型   | 必填  | 描述                        |
|------------|--------|------|-----------------------------|
| `email`     | string | 是  | 请填写真实有效的邮箱，用于接收验证码（后续找回Key和升级权限等可能需要）。   |
#### 4.1.2、请求示例
```json
{
    "email":"test@exp.com"
}
```
#### 4.1.3、响应结果

| 字段名称   | 类型      | 描述                      |
|------------|-----------|---------------------------|
| `key`       | string       | 验证需要的key请妥善保管，不要外泄。如果忘记请联系客服进行认证找回。            |
| `email`    | string    | 用户邮箱                  |
| `created_at`      | string       | key创建时间                  |
| `expires_at` | string    | key过期时间            |
| `permission` | obj    | 权限数据            |
| `> depth` | obj    | 深度快照接口权限            |
| `>> product_count` | int    | 深度快照接口产品数量限制            |
| `>> request_frequency` | int    | 深度快照接口请求频率限制            |
| `> history` | obj    | 历史K线接口权限            |
| `>> product_count` | int    | 历史K线接口产品数量限制            |
| `>> request_frequency` | int    | 历史K线接口请求频率限制            |
| `> instrumen_info` | obj    | 交易品种信息接口权限            |
| `>> product_count` | int    | 交易品种信息接口产品数量限制            |
| `>> request_frequency` | int    | 交易品种信息接口请求频率限制            |
| `> kline` | obj    | K线接口权限            |
| `>> product_count` | int    | K线接口产品数量限制            |
| `>> request_frequency` | int    | K线接口请求频率限制            |
| `> snapshot` | obj    | 行情快照接口权限            |
| `>> product_count` | int    | 行情快照接口产品数量限制            |
| `>> request_frequency` | int    | 行情快照接口请求频率限制            |
| `> trade` | obj    | 成交数据接口权限            |
| `>> product_count` | int    | 成交数据接口产品数量限制            |
| `>> request_frequency` | int    | 成交数据接口请求频率限制            |
| `> ws` | obj    | websocket订阅权限            |
| `>> product_count` | int    | websocket订阅产品数量限制            |
| `>> request_frequency` | int    | websocket订阅请求频率限制           |
#### 4.1.4、响应示例

```json
{
    "msg": "OK",
    "data": {
        "key": "b56efc3a0951ae19819505427491a6ee",
        "email": "test4@qos.com",
        "created_at": "2024-11-12T09:43:12.436446868+08:00",
        "expires_at": "2024-11-27T09:43:12.436446868+08:00",
        "permission": {
            "depth": {
                "product_count": 10,
                "request_frequency": 30
            },
            "history": {
                "product_count": 10,
                "request_frequency": 30
            },
            "instrumen_info": {
                "product_count": 10,
                "request_frequency": 30
            },
            "kline": {
                "product_count": 10,
                "request_frequency": 30
            },
            "snapshot": {
                "product_count": 10,
                "request_frequency": 30
            },
            "trade": {
                "product_count": 10,
                "request_frequency": 30
            },
            "ws": {
                "product_count": 10,
                "request_frequency": 30,
                "max_connections": 1
            }
        }
    }
}
```
---
### 4.2、获取交易品种的基础信息
- **接口地址**：`/instrument-info`
- **请求方式**：`POST`
- **接口描述**：获取交易品种的基础信息

#### 4.2.1、请求参数

| 参数名     | 类型   | 必填  | 描述                        |
|------------|--------|------|-----------------------------|
| `codes`     | array | 是  | 交易品种列表数组，传入细节请看下面请求示例   |
#### 4.2.2、请求示例
```
{
    "codes": [
        "US:AAPL,TSLA",
        "HK:700",
        "SH:600519"
    ]
}
```
#### 4.2.3、响应结果

| 字段名称     | 类型   | 描述                                       |
|----------|--------|--------------------------------------------|
| c   | string | 股票代码                                   |
| e   | string | 交易所                                     |
| tc  | string | 交易币种                                   |
| nc  | string | 中文名称                                   |
| ne  | string | 英文名称                                   |
| ls  | integer| 最小交易单位                               |
| ts  | integer| 时间戳                                     |
| os  | integer| 股票总数                                   |
| ep  | string | 每股盈利                                   |
| na  | string | 每股净资产                                 |
| dy  | string | 股息率                                     |
#### 4.2.4、响应示例

```
{
  "msg": "OK",
  "data": [
    {
      "c": "US:AAPL",
      "e": "NASD",
      "tc": "USD",
      "nc": "苹果",
      "ne": "AppleInc.",
      "ls": 1,
      "ts": 15115823000,
      "os": 15091141884,
      "ep": "6.2012",
      "na": "3.7676",
      "dy": "0.98"
    },
    {
      "c": "HK:700",
      "e": "SEHK",
      "tc": "HKD",
      "nc": "腾讯控股",
      "ne": "TENCENT",
      "ls": 100,
      "ts": 9267359712,
      "os": 9267359712,
      "ep": "13.719",
      "na": "101.7578",
      "dy": "3.4558"
    },
    {
      "c": "SH:600519",
      "e": "SSE",
      "tc": "CNY",
      "nc": "贵州茅台",
      "ne": "Moutai",
      "ls": 100,
      "ts": 1256197800,
      "os": 1256197800,
      "ep": "59.4923",
      "na": "189.2293",
      "dy": "49.982"
    }
  ]
}
```
---
### 4.3、获取交易品种的实时行情快照
- **接口地址**：`/snapshot`
- **请求方式**：`POST`
- **接口描述**：获取交易品种的实时行情快照

#### 4.3.1、请求参数

| 参数名     | 类型   | 必填  | 描述                        |
|------------|--------|------|-----------------------------|
| `codes`     | array | 是  | 交易品种列表数组，传入细节请看下面请求示例   |
#### 4.3.2、请求示例
```
{
    "codes": [
        "US:AAPL,TSLA",
        "HK:700",
        "SH:600519"
    ]
}
```
#### 4.3.3、响应结果

| 字段名称     | 类型   | 描述                                       |
|----------|--------|--------------------------------------------|
| c   | string | 股票代码                                   |
| lp  | string | 当前价格                                   |
| yp  | string | 昨日收盘价                                 |
| o   | string | 开盘价                                     |
| h   | string | 最高价                                     |
| l   | string | 最低价                                     |
| ts  | integer| 时间戳                                     |
| v   | string | 成交量                                     |
| t   | string | 成交金额                                   |
| s   | integer| 是否停牌（0表示未停牌，1表示停牌）        |
#### 4.3.4、响应示例

```
{
  "msg": "OK",
  "data": [
    {
      "c": "US:AAPL",
      "e": "NASD",
      "tc": "USD",
      "nc": "苹果",
      "ne": "AppleInc.",
      "ls": 1,
      "ts": 15115823000,
      "os": 15091141884,
      "ep": "6.2012",
      "na": "3.7676",
      "dy": "0.98"
    },
    {
      "c": "HK:700",
      "e": "SEHK",
      "tc": "HKD",
      "nc": "腾讯控股",
      "ne": "TENCENT",
      "ls": 100,
      "ts": 9267359712,
      "os": 9267359712,
      "ep": "13.719",
      "na": "101.7578",
      "dy": "3.4558"
    },
    {
      "c": "SH:600519",
      "e": "SSE",
      "tc": "CNY",
      "nc": "贵州茅台",
      "ne": "Moutai",
      "ls": 100,
      "ts": 1256197800,
      "os": 1256197800,
      "ep": "59.4923",
      "na": "189.2293",
      "dy": "49.982"
    }
  ]
}
```
---
### 4.4、获取交易品种的实时最新盘口深度
- **接口地址**：`/depth`
- **请求方式**：`POST`
- **接口描述**：获取交易品种的实时最新盘口深度

#### 4.4.1、请求参数

| 参数名     | 类型   | 必填  | 描述                        |
|------------|--------|------|-----------------------------|
| `codes`     | array | 是  | 交易品种列表数组，传入细节请看下面请求示例   |
#### 4.4.2、请求示例
```
{
    "codes": [
        "US:AAPL,TSLA",
        "HK:700",
        "SH:600519"
    ]
}
```
#### 4.4.3、响应结果

| 字段名称     | 类型   | 描述                                       |
|----------|--------|--------------------------------------------|
| c   | string | 股票代码                                   |
| b   | array  | 买单数组                                   |
| > p | string | 买单价格                                   |
| > v | string | 买单数量                                   |
| a   | array  | 卖单数组                                   |
| > p | string | 卖单价格                                   |
| > v | string | 卖单数量                                   |
| ts  | integer| 时间戳                                     |
#### 4.4.4、响应示例
```
{
  "msg": "OK",
  "data": [
    {
      "c": "US:AAPL",
      "b": [
        { "p": "224.42", "v": "100" }
      ],
      "a": [
        { "p": "224.74", "v": "20" }
      ],
      "ts": 1731293478
    },
    {
      "c": "US:TSLA",
      "b": [
        { "p": "295.8", "v": "5" }
      ],
      "a": [
        { "p": "295.9", "v": "130" }
      ],
      "ts": 1731293478
    },
    {
      "c": "SH:600519",
      "b": [
        { "p": "1593.01", "v": "1" },
        { "p": "1593", "v": "5" }
      ],
      "a": [
        { "p": "1593.02", "v": "1" },
        { "p": "1594", "v": "6" }
      ],
      "ts": 1731293478
    }
  ]
}
```
---
### 4.5、获取交易品种的实时最新逐笔成交明细
- **接口地址**：`/trade`
- **请求方式**：`POST`
- **接口描述**：获取交易品种的实时最新逐笔成交明细

#### 4.5.1、请求参数

| 参数名     | 类型   | 必填  | 描述                        |
|------------|--------|------|-----------------------------|
| `codes`     | array | 是  | 交易品种列表数组，传入细节请看下面请求示例   |
| `count`     | integer | 是  | 请求的最近多少条，此数值不能超过50   |
#### 4.5.2、请求示例
```
{
    "codes": [
        "US:AAPL",
        "HK:700",
        "SH:600519,688981,601127,600938,601727,600837,688185",
        "SZ:002594"
    ],
    "count": 2
}
```
#### 4.5.3、响应结果

| 字段名称     | 类型   | 描述                                       |
|----------|--------|--------------------------------------------|
| c   | string | 股票代码                                   |
| p   | string | 当前价格                                   |
| v   | string | 当前成交量                                 |
| ts  | integer| 时间戳                                     |
| d  | integer| 交易方向，具体定义参看5.2章节                                     |
#### 4.5.4、响应示例

```
{
    "msg": "OK",
    "data": [
        {
            "c": "SH:688185",
            "p": 66.99,
            "v": 2,
            "ts": 1731635481,
            "d": 2
        },
        {
            "c": "SH:600519",
            "p": 1555.8,
            "v": 74,
            "ts": 1731635489,
            "d": 2
        },
        {
            "c": "SH:601127",
            "p": 135.81,
            "v": 327,
            "ts": 1731635489,
            "d": 0
        },
        {
            "c": "SH:688981",
            "p": 96.25,
            "v": 364,
            "ts": 1731635491,
            "d": 2
        },
        {
            "c": "SH:600938",
            "p": 25.85,
            "v": 75,
            "ts": 1731635488,
            "d": 1
        },
        {
            "c": "SH:601727",
            "p": 9.01,
            "v": 8414,
            "ts": 1731635491,
            "d": 1
        },
        {
            "c": "SH:600837",
            "p": 11.92,
            "v": 510,
            "ts": 1731635490,
            "d": 2
        },
        {
            "c": "SZ:002594",
            "p": 285.88,
            "v": 59,
            "ts": 1731635493,
            "d": 0
        }
    ]
}
```
---
### 4.6、获取交易品种的K线
- **接口地址**：`/kline`
- **请求方式**：`POST`
- **接口描述**：获取交易品种的K线，从最近开始向前推多少根的K线。

#### 4.6.1、请求参数

| 参数名     | 类型   | 必填  | 描述                        |
|------------|--------|------|-----------------------------|
| c        | string   | 股票代码，多个股票代码用逗号分隔                |              |
| co       | integer  | Count 请求多少根       |
| a        | integer  | 复权类型 0:不复权 1:前复权        |
| kt        | integer   | K线类型，取值参看5.1章节K线类型定义       |
#### 4.6.2、请求示例
```
{
    "kline_reqs": [
        {
            "c": "US:AAPL,TSLA",
            "co": 2,
            "a": 0,
            "kt": 1
        },
        {
            "c": "HK:700",
            "co": 2,
            "a": 0,
            "kt": 1
        },{
            "c": "SH:600519",
            "co": 2,
            "a": 0,
            "kt": 2001
        }
    ]
}
```
#### 4.6.3、响应结果

| 字段名称     | 类型   | 描述                                       |
|----------|--------|--------------------------------------------|
| c   | string | 股票代码                                   |
| k   | array  | K线数据数组                               |
| > o | string | 开盘价                                     |
| > cl| string | 收盘价                                     |
| > h | string | 最高价                                     |
| > l | string | 最低价                                     |
| > v | string | 成交量                                     |
| > ts| integer| 时间戳                                     |
| > kt | integer | K线类型，取值参看5.1章节K线类型定义       |
#### 4.6.4、响应示例

```
{
    "msg": "OK",
    "data": [
        {
            "c": "SH:600519",
            "k": [
                {
                    "c": "SH:600519",
                    "o": "1731.2",
                    "cl": "1726",
                    "h": "1935",
                    "l": "1616.25",
                    "v": "5627550",
                    "ts": 1672502400,
                    "kt": 2001
                },
                {
                    "c": "SH:600519",
                    "o": "1715",
                    "cl": "1585.58",
                    "h": "1910",
                    "l": "1245.83",
                    "v": "7147731",
                    "ts": 1704038400,
                    "kt": 2001
                }
            ]
        },
        {
            "c": "US:TSLA",
            "k": [
                {
                    "c": "US:TSLA",
                    "o": "330.32",
                    "cl": "330.19",
                    "h": "330.79",
                    "l": "329.957",
                    "v": "578346",
                    "ts": 1731531540,
                    "kt": 1
                },
                {
                    "c": "US:TSLA",
                    "o": "330.27",
                    "cl": "330.24",
                    "h": "330.29",
                    "l": "330.24",
                    "v": "2404646",
                    "ts": 1731531600,
                    "kt": 1
                }
            ]
        },
        {
            "c": "US:AAPL",
            "k": [
                {
                    "c": "US:AAPL",
                    "o": "225.11",
                    "cl": "225.07",
                    "h": "225.32",
                    "l": "225",
                    "v": "813271",
                    "ts": 1731531540,
                    "kt": 1
                },
                {
                    "c": "US:AAPL",
                    "o": "225.12",
                    "cl": "225.12",
                    "h": "225.12",
                    "l": "225.12",
                    "v": "8870001",
                    "ts": 1731531600,
                    "kt": 1
                }
            ]
        },
        {
            "c": "HK:700",
            "k": [
                {
                    "c": "HK:700",
                    "o": "411.4",
                    "cl": "411.6",
                    "h": "411.6",
                    "l": "411.2",
                    "v": "51115",
                    "ts": 1731553860,
                    "kt": 1
                },
                {
                    "c": "HK:700",
                    "o": "411.6",
                    "cl": "411.4",
                    "h": "411.8",
                    "l": "411.4",
                    "v": "84400",
                    "ts": 1731553920,
                    "kt": 1
                }
            ]
        }
    ]
}
```
---
### 4.7、获取交易品种的K线-历史
- **接口地址**：`/history`
- **请求方式**：`POST`
- **接口描述**：获取交易品种的历史K线，从传入的结束时间向前推多少根的K线。

#### 4.7.1、请求参数

| 参数名     | 类型   | 必填  | 描述                        |
|------------|--------|------|-----------------------------|
| c        | string   | 股票代码，多个股票代码用逗号分隔                |              |
| e        | integer  | 请求K线的结束时间戳，单位秒                 |
| co       | integer  | Count 请求多少根       |
| a        | integer  | 复权类型 0:不复权 1:前复权        |
| kt        | integer   | K线类型，取值参看5.1章节K线类型定义        |
#### 4.7.2、请求示例
```
{
    "kline_reqs": [
        {
            "c": "US:AAPL,TSLA",
            "e": 1722441600,
            "co": 1,
            "a": 0,
            "kt": 1001
        },
        {
            "c": "HK:700",
            "e": 1722441600,
            "co": 1,
            "a": 0,
            "kt": 2001
        }
    ]
}
```
#### 4.7.3、响应结果

| 字段名称     | 类型   | 描述                                       |
|----------|--------|--------------------------------------------|
| c   | string | 股票代码                                   |
| k   | array  | K线数据数组                               |
| > o | string | 开盘价                                     |
| > cl| string | 收盘价                                     |
| > h | string | 最高价                                     |
| > l | string | 最低价                                     |
| > v | string | 成交量                                     |
| > ts| integer| 时间戳                                     |
| > kt | integer | K线类型，取值参看5.1章节K线类型定义       |
#### 4.7.4、响应示例

```
{
    "msg": "OK",
    "data": [
        {
            "c": "US:AAPL",
            "k": [
                {
                    "c": "US:AAPL",
                    "o": "224.01",
                    "cl": "225.12",
                    "h": "226.65",
                    "l": "222.76",
                    "v": "48566217",
                    "ts": 1731474000,
                    "kt": 1001
                }
            ]
        },
        {
            "c": "US:TSLA",
            "k": [
                {
                    "c": "US:TSLA",
                    "o": "335.85",
                    "cl": "330.24",
                    "h": "344.6",
                    "l": "322.5",
                    "v": "125405599",
                    "ts": 1731474000,
                    "kt": 1001
                }
            ]
        },
        {
            "c": "HK:700",
            "k": [
                {
                    "c": "HK:700",
                    "o": "300",
                    "cl": "410.8",
                    "h": "482.4",
                    "l": "260.2",
                    "v": "4682849510",
                    "ts": 1704038400,
                    "kt": 2001
                }
            ]
        }
    ]
}
```
---
## 5、websocket协议接口定义
### 5.0、websocket协议接入说明
建立连接时只需要把请key放在请求头中，填充key字段就可以了。
- **websocket地址：** wss://api.qos.hk/ws
#### 5.0.1、请求头
| 参数 | 类型  | 描述         |
|------|-------|--------------|
| key  | string | 请求的API key |
#### 5.0.2、限制说明
会根据套餐情况限制订阅的产品个数和建立连接的个数，默认是10个产品，1一个连接，可以联系客服根据不同套餐进行调整。订阅请求的频率每分钟不得超过30次。
### 5.1、心跳
要求每20秒发一次即可
#### 5.1.1、发送心跳
```json
{"type":"H"}
```
#### 5.1.2、心跳响应
```json
{
    "type": "H",
    "msg": "OK",
    "time": 1731640508
}
```
### 5.2、订阅交易品种的实时快照
#### 5.2.1、发送订阅命令
| 字段名称 | 值                                                                 |
|----------|---------------------------------------------------------------------|
| type     | 订阅类型填S,取消订阅填SC                                                              |
| codes    | code列表，具体传入方式请看下面示例 |
#### 5.2.2、订阅命令示例
```json
{
    "type": "S",
    "codes": [
        "US:AAPL",
        "HK:700,9988",
        "SH:600519,688981,601127,600938,601727,600837",
        "SZ:002594"
    ]
}
```
#### 5.2.3、订阅命令返回
```json
{
    "type": "S",
    "msg": "OK",
    "time": 1731650860
}
```
#### 5.2.4、取消订阅命令示例
```json
{
    "type": "SC",
    "codes": [
        "US:AAPL",
        "HK:700,9988",
        "SH:600519,688981,601127,600938,601727,600837",
        "SZ:002594"
    ]
}
```
#### 5.2.5、取消订阅命令返回
```json
{
    "type": "SC",
    "msg": "OK",
    "time": 1731650871
}
```
#### 5.2.6、数据推送
| 字段名称     | 类型   | 描述                                       |
|----------|--------|--------------------------------------------|
| tp   | string | 数据类型S表示行情快照数据                                  |
| c   | string | 股票代码                                   |
| lp  | string | 当前价格                                   |
| yp  | string | 昨日收盘价                                 |
| o   | string | 开盘价                                     |
| h   | string | 最高价                                     |
| l   | string | 最低价                                     |
| ts  | integer| 时间戳                                     |
| v   | string | 成交量                                     |
| t   | string | 成交金额                                   |
| s   | integer| 是否停牌（0表示未停牌，1表示停牌）        |
#### 5.2.7、数据推送示例
```json
{
    "tp": "S",
    "c": "SH:600938",
    "lp": "25.92",
    "yp": "26.15",
    "o": "26.19",
    "h": "26.19",
    "l": "25.62",
    "ts": 1731650869,
    "v": "694420",
    "t": "1793887058",
    "s": 0
}
```
### 5.3、订阅交易品种的实时逐口成交明细
#### 5.3.1、发送订阅命令
| 字段名称 | 值                                                                 |
|----------|---------------------------------------------------------------------|
| type     | 订阅类型填T,取消订阅填TC                                                              |
| codes    | code列表，具体传入方式请看下面示例 |
#### 5.3.2、订阅命令示例
```json
{
    "type": "T",
    "codes": [
        "US:AAPL",
        "HK:700,9988",
        "SH:600519,688981,601127,600938,601727,600837",
        "SZ:002594"
    ]
}
```
#### 5.3.3、订阅命令返回
```json
{
    "type": "T",
    "msg": "OK",
    "time": 1731650860
}
```
#### 5.3.4、取消订阅命令示例
```json
{
    "type": "TC",
    "codes": [
        "US:AAPL",
        "HK:700,9988",
        "SH:600519,688981,601127,600938,601727,600837",
        "SZ:002594"
    ]
}
```
#### 5.3.5、取消订阅命令返回
```json
{
    "type": "TC",
    "msg": "OK",
    "time": 1731650871
}
```
#### 5.3.6、数据推送
| 字段名称     | 类型   | 描述                                       |
|----------|--------|--------------------------------------------|
| tp   | string | 数据类型T表示成交数据                                  |
| c   | string | 股票代码                                   |
| p   | string | 当前价格                                   |
| v   | string | 当前成交量                                 |
| ts  | integer| 时间戳                                     |
| d  | integer| 交易方向，具体定义参看5.2章节                                     |
#### 5.3.7、数据推送示例
```json
{
    "tp": "T",
    "c": "SH:600837",
    "p": 11.75,
    "v": 71,
    "ts": 1731651249,
    "d": 2
}
```
### 5.4、订阅交易品种的实时盘口
#### 5.4.1、发送订阅命令
| 字段名称 | 值                                                                 |
|----------|---------------------------------------------------------------------|
| type     | 订阅类型填D,取消订阅填DC                                                              |
| codes    | code列表，具体传入方式请看下面示例 |
#### 5.3.2、订阅命令示例
```json
{
    "type": "D",
    "codes": [
        "US:AAPL",
        "HK:700,9988",
        "SH:600519,688981,601127,600938,601727,600837",
        "SZ:002594"
    ]
}
```
#### 5.3.3、订阅命令返回
```json
{
    "type": "D",
    "msg": "OK",
    "time": 1731650860
}
```
#### 5.3.4、取消订阅命令示例
```json
{
    "type": "DC",
    "codes": [
        "US:AAPL",
        "HK:700,9988",
        "SH:600519,688981,601127,600938,601727,600837",
        "SZ:002594"
    ]
}
```
#### 5.3.5、取消订阅命令返回
```json
{
    "type": "DC",
    "msg": "OK",
    "time": 1731650871
}
```
#### 5.3.6、数据推送
| 字段名称     | 类型   | 描述                                       |
|----------|--------|--------------------------------------------|
| tp   | string | 数据类型D表示盘口深度                                   |
| c   | string | 股票代码                                   |
| b   | array  | 买单数组                                   |
| > p | string | 买单价格                                   |
| > v | string | 买单数量                                   |
| a   | array  | 卖单数组                                   |
| > p | string | 卖单价格                                   |
| > v | string | 卖单数量                                   |
| ts  | integer| 时间戳                                     |
#### 5.3.7、数据推送示例
```json
{
    "tp": "D",
    "c": "SH:688981",
    "b": [
        {
            "p": "96.66",
            "v": "21"
        },
        {
            "p": "96.65",
            "v": "16"
        },
        {
            "p": "96.63",
            "v": "13"
        },
        {
            "p": "96.61",
            "v": "6"
        },
        {
            "p": "96.6",
            "v": "34"
        }
    ],
    "a": [
        {
            "p": "96.67",
            "v": "221"
        },
        {
            "p": "96.7",
            "v": "10"
        },
        {
            "p": "96.71",
            "v": "1542"
        },
        {
            "p": "96.74",
            "v": "62"
        },
        {
            "p": "96.75",
            "v": "915"
        }
    ],
    "ts": 1731651419
}
```
